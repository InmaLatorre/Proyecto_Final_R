---
title: "Proyecto Final"
author: "Inma Latorre"
date: "11/12/2019"
output: 
  html_document: 
    toc: true 
    toc_float:
      collapsed: false
      Smooth_scroll: false
    theme: lumen
    highlight: pygments
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## **Curso de iniciación a R**

### 0. Contenido

1. Recursos sobre expresiones regulares discutidas: RPubs y Riptutorial.
1. Recursos sobre markdown discutidas: Rstudio y r4ds
1. Estudio descriptivo del _dataset_ contenido en R `ChickWeight`.

### 1. Expresiones Regulares {.tabset .tabset-pills}

<div style="text-align: justify">
Expresión regular, también conocida como _regex_, _regexp_ o expresión racional, es una secuencia de caracteres que forma un patrón de búsqueda, principalmente utilizada para la búsqueda de patrones de cadenas de caracteres u operaciones de sustituciones.

A continuación, compararemos dos páginas de recursos para su aprendizaje que se pueden encontrar en Internet, destacando los pros y los contras de ambas.
<div/>

#### 1.1. RPubs

[RPubs](http://rpubs.com/ydmarinb/429756) es el primer recurso que vamos a estudiar:

<center>![Vista previa de RPubs](RPubs.png){width=70%}</center>
<div/>



- _Contenido:_ Teórico y ejemplificativo. Contiene una estructura lógica, empezando por la teoría básica, para luego adentrarse en la implementación en R con sus debidos ejemplos.
- _Código:_ Correctamente ejecutado. Se muestra el código cuando es justificado y relevante, es decir, cuando quiere mostrar como se ha llegado a aquello que trata de enseñar.
- _Estética:_ Armoniosa y clara. Con un patrón coherente sin excesivos formatos de texto especiales.


#### 1.2. Riptutorial

[Riptutorial](https://riptutorial.com/es/r/topic/5748/expresiones-regulares--expresiones-regulares-)  es el segundo recurso que vamos a estudiar:

<center>![Vista previa de Riptutorial](Riptutorial.png){width=60%}</center>
<div/>



- _Contenido:_ Escaso y poco claro. Destaca las cuestiones teóricas básicas, sin poner ejemplos de ello. Para un usuario que se está iniciando con este lenguaje resulta complicado su comprendimiento y aplicación práctica.
- _Código:_ Limitado. Más allá de enlace a otras páginas web y cambio de color sin un patrón o lógica claros, no existe un código formulado de cierta complejidad.
- _Estética:_ Estresante. No cumple la normativa ortotipográfica ya que, tiene un color destacado y un tamaño de fuente mayor los subtítulos dentro de las secciones.


##

<div style="text-align: justify">
**CONCLUSIÓN:** El nombre de la página (RIP tutorial) es un buen indicativo de la calidad instructiva del mismo. En mi opinión, llamarle tutorial es excederse. Por lo tanto, tras compararlo con los recursos que hay en RPubs, llegamos a la determinación de que este último es mejor para el aprendizaje sobre las _regex_. <div/>

### 2. R Markdown {.tabset .tabset-pills}

<div style="text-align: justify">
R Markdown es un formato que permite una fácil creación de documentos, presentaciones dinámicas y informes de R. Markdown es un formato de sintaxis simple para crear documentos en HTML, PDF, y Word.

A continuación, siguiendo con el mismo patrón que en el punto anterior, compararemos dos páginas de recursos para su aprendizaje que se pueden encontrar en Internet por su contenido, código y estética. 

En base a dichos puntos, concluiremos cuál es mejor y cuál peor para formarse y crear buenos documentos en formato R Markdown. <div/>

#### 2.1. Rstudio

[Rstudio.com](https://rstudio.com/wp-content/uploads/2015/03/rmarkdown-spanish.pdf)

<center>![Vista previa de RStudio](RStudio.png){width=70%}</center>
<div/>

- _Contenido:_ Conciso y claro. Indicando 
- _Código:_ Ejecución correcta.
- _Estética:_ Coherente. Estéticamente agradable, deja claro cómo se ve en un documento Markdown el código descrito


#### 2.2. R4ds

[r4ds](https://es.r4ds.hadley.nz/r-markdown.html)

<center>![Vista previa de r4ds](r4ds.png){width=70%}</center>
<div/>


- _Contenido:_
- _Código:_
- _Estética:_ 

##

<div style="text-align: justify">
**CONCLUSIÓN:** RStudio es muy buen recurso para, de un vistazo, poder saber lo básico que alcanza un documento RMarkdown. <div/>


### 3. ChickWeight: estudio básico

<div style="text-align: justify">
A continuación, trabajaremos el conjunto de datos `ChickWeight` que estudia el efecto de diferentes dietas en el peso de los pollitos del muestreo siguiendo la evolución del peso según la edad.

Las diferentes variables recogidas en dicho _dataset_ son las siguientes:

```{r echo=FALSE}

colnames(ChickWeight) 

```

Donde:

1. _Weight:_ Es el peso del pollito, en valor numérico
1. _Time:_ Edad, en días, del pollito
1. _Chick:_ Pollito, ordenado numéricamente como factor
1. _Diet:_ Tipo de dieta que ha llevado el pollito, representado 1-4 como factor
<div/>

Primero, veremos el cambio del peso de los pollitos con el paso de los días:

```{r echo=FALSE}

names(ChickWeight) <- tolower(names(ChickWeight))

poll_peso_temps <- aggregate(weight ~ time,
          FUN = mean,
          data = ChickWeight)

library(knitr)

kable(poll_peso_temps
      , caption = "Evolución del peso de los pollitos los primeros días de vida"
      , align = c('l', 'l')
      , col.names = c("Días", "Peso_Medio")
      , row.names = FALSE
      , digits = 2
      , format.args = list( decimal.mark = ",")
)
```

La media de peso el día del nacimiento de los pollitos fue 41.06. La media de peso el último día que se tomaron datos, el 21, fue de 218.69

Después, estudiaremos la evolución del peso con el transcurso de los días en cada una de las dietas:

```{r echo=FALSE}

library(reshape2)

names(ChickWeight) <- tolower(names(ChickWeight))

pollitos <- melt(ChickWeight, 
                id.vars=2:4, 
                na.rm=TRUE)

poll_diet_temps <- dcast(pollitos, 
                         diet ~ time, 
                         mean, 
                         na.rm=TRUE)

library(knitr)

kable(poll_diet_temps
      , caption = "Efecto en el peso en los pollitos según dieta y tiempo"
      , align = c('l', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r', 'r')
      , col.names = c("Dieta","Día_0","Día_2","Día_4","Día_6","Día_8","Día_10","Día_12","Día_14","Día_16","Día_18","Día_20","Día_21")
      , row.names = FALSE
      , digits = 2
      , format.args = list( decimal.mark = ",")
)
```

<center>
```{r echo=FALSE}

polluelos <- ChickWeight

library(ggplot2)

polluelos1 <- ggplot(data = polluelos, 
       aes(x = time, y = weight, colour = diet)) +
       geom_point() +
       geom_smooth(method = "lm") + 
       facet_wrap(~diet, ncol = 2) +
       scale_y_continuous(position = "right") + 
       labs(x = "Días", y = "Peso (gr)")

polluelos2 <- polluelos1 + ggtitle("Aumento de peso según las diferentes dietas")

library(ggthemes)

polluelos2 + theme_economist(base_size = 10, base_family = "sans", horizontal = TRUE,
                dkpanel = FALSE) + scale_color_economist()

```
</center>
<div/>


Observamos que la Dieta 4 es la más pesada, provocando que los pollitos que siguen dicha dieta tengan una tendencia mayor a engordar. 